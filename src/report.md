## Part 1. Установка ОС
* Смотрим нашу версию ОС командой:
```
cat /etc/issue
```
![](screenshots/task_1.png)
## Part 2. Создание пользователя
* Создаем пользователя:
```
sudo useradd {username}
```

![](screenshots/task_2_2.png)

* Смотрим в списке нового пользователя и добавляем его в группу: 
```
sudo useradd {username} -G {group name}
```
  ![](screenshots/task_2.png)
## Part 3. Настройка сети ОС
* Задаем название машины вида user-1 командой 
```
sudo nano /etc/hostname
```
* Устанавливаем временную зону, соответствующую текущему местоположению:
```
timedatectl list-timezones (можно посмотреть список таймзон)
sudo timedatectl set-timezone your_time_zone
```
* Выводим названия сетевых интерфейсов с помощью консольной команды:
```
cat /proc/net/dev
```
![](screenshots/task_3.png)
Тут мы увидим сетевой интерфейс lo
> lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost. Посмотреть привязку можно в файле /etc/hosts.
* Получим IP адрес 
```
sudo dhclient -v
```
![](screenshots/task_3_ip.png)
Список адресов, выданых DHCP сервером можно получить командой
```
cat /var/lib/dhcp/dhcpd.leases
```
![](screenshots/task_3_get_ip.png)
> DHCP - (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — сетевой протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер». Для автоматической конфигурации компьютер-клиент на этапе конфигурации сетевого устройства обращается к так называемому серверу DHCP и получает от него нужные параметры. Сетевой администратор может задать диапазон адресов, распределяемых сервером среди компьютеров. Это позволяет избежать ручной настройки компьютеров сети и уменьшает количество ошибок. Протокол DHCP используется в большинстве сетей TCP/IP.
* Зададим статичные статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (используй публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).

  ![](screenshots/task_3_1.png)

* Пропингуем  удаленные хосты 1.1.1.1 и ya.ru
```
ping 1.1.1.1
ping ya.ru
```
![](screenshots/task_3_4.png)

![](screenshots/task_3_5.png)

## Part 4. Обновление ОС
* Обновим все системные пакеты 
```
sudo apt-get upgrade
```
![](screenshots/task_4.png)
## Part 5. Использование команды sudo
> sudo (англ. Substitute User and do, дословно «подменить пользователя и выполнить») — программа для системного администрирования UNIX-систем, позволяющая делегировать те или иные привилегированные ресурсы пользователям с ведением протокола работы. Основная идея — дать пользователям как можно меньше прав, при этом достаточных для решения поставленных задач. Программа поставляется для большинства UNIX и UNIX-подобных операционных систем. Команда sudo предоставляет возможность пользователям выполнять команды от имени суперпользователя root, либо других пользователей. Правила, используемые sudo для принятия решения о предоставлении доступа, находятся в файле /etc/sudoers (для редактирования файла можно использовать специальный редактор visudo, запускаемый из командной строки без параметров, в том числе без указания пути к файлу); язык их написания и примеры использования подробно изложены в man sudoers(5). В большинстве случаев грамотная настройка sudo делает небезопасную работу от имени суперпользователя ненужной. Все действия оказываются выполнимы из-под аккаунта пользователя, которому разрешено использовать sudo без ограничений. Имеется возможность запрещать и разрешать определённым пользователям или группам выполнение конкретного набора программ, а также разрешить выполнение определённых программ без необходимости ввода своего пароля
* Поменяем hostname с помощью testuser

  ![](screenshots/task_5.png)
  ![](screenshots/task_5_1.png)
## Part 6. Установка и настройка службы времени
* Выведем время нашего часового пояса 
```
timedatectl show
```

![](screenshots/task_6_1.png)
## Part 7. Установка и использование текстовых редакторов
* В текстовом редакторе nano что бы выйти с сохранением изменения нужно нажать control + O, затем control+X
* Что бы выйти без сохранения нужно нажать control+X
![](screenshots/nano.png)
* В текстовом редакторе Vim что бы выйти со сохранением изменений нужно нажать "ESC" для выхода в "командный режим", вводим ":" (двоеточие), вводим "wq" (write-quit) - для сохранения изменений и выхода
* Что бы выйти без сохранения нужно нажать после "ESC"  ":" (двоеточие), - "q!" - для выхода без сохранения, и нажимаем "Enter".
![](screenshots/vim..png)
* В текстовом редакторе mcedit что бы выйти с сохранением нужно нажать F2 и далее F10
* Что бы выйти без сохранения нужно нажать F10
![](screenshots/mcedit.png)
* Файлы после редактирования не изменятся: 
![](screenshots/nano.png)
![](screenshots/vim..png)
![](screenshots/mcedit.png)

* Что бы в Нано найти тескт нужно ввести - ^ W 
* Что бы изменить текст ввести - ^ \
![](screenshots/search_nano.png)
* Что бы найти текст в VIM нужно нажать / что бы перейти в режим поиска;
![](screenshots/search_vim.png)
* Что бы выполнить поиск в mcedit нужно нажать F7 а для замены F4
![](screenshots/search_mcedit.png)
![](screenshots/search_mcedit_1.png)
## Part 8. Установка и базовая настройка сервиса SSHD
* Установим shhd утилиту 
```bazaar
sudo apt install openssh-server -y
```
* Поставим sshd на автозапуск
```bazaar
sudo systemctl enable ssh
```
* Поменяем порт командой
```
sudo nano /etc/ssh/sshd_config
```
![](screenshots/task_8.png)
Эта команда выполнит следующие действия:
  - ps aux - выведет список всех процессов в системе, включая информацию о пользователе, использовании памяти и другие детали.
  - | - перенаправляет вывод предыдущей команды в следующую команду.
  - grep sshd - фильтрует вывод предыдущей команды, показывая только строки, содержащие "sshd".
![](screenshots/task_8_1.png)
![](screenshots/task_8_2.png)

Команда netstat -tan выводит список всех активных сетевых соединений и их состояний на компьютере. Разберем каждую опцию в команде:
- t - отображает только TCP-соединения.
- a - отображает все активные соединения, включая слушающие порты.
- n - отображает IP-адреса и порты в числовом формате, а не в символьном (не выполняет обратное разрешение DNS).

Таким образом, вывод команды netstat -tan содержит информацию о всех активных TCP-соединениях, как локальных, так и удаленных, в числовом формате. Это включает в себя IP-адреса, порты и состояния соединений (например, ESTABLISHED, LISTENING и т. д.).

- Proto: указывает на протокол, используемый для соединения. В данном случае, это TCP.
- Recv-Q: отображает количество байт данных, ожидающих чтения из сокета (полученных, но еще не прочитанных).
- Send-Q: показывает количество байт данных, ожидающих отправки через сокет (отправленных, но еще не подтвержденных).
- Local Address: отображает локальный IP-адрес и порт, связанный с соединением.
- Foreign Address: представляет удаленный IP-адрес и порт, с которым установлено соединение.
- State: указывает на текущее состояние соединения, такое как ESTABLISHED (установленное), LISTEN (ожидание входящего соединения), CLOSE_WAIT (ожидание закрытия соединения) и другие.

* 0.0.0.0 в выводе команды netstat -tan, это означает, что соответствующий адрес или порт является общим для всех сетевых интерфейсов на компьютере. В контексте вывода netstat -tan, 0.0.0.0 может появляться в столбце Local Address или Foreign Address.

- Если 0.0.0.0 появляется в столбце Local Address, это означает, что соответствующий порт прослушивается на всех сетевых интерфейсах компьютера, а не только на одном конкретном.

- Если 0.0.0.0 появляется в столбце Foreign Address, это означает, что соединение установлено с удаленным хостом по адресу 0.0.0.0, что также интерпретируется как "любой доступный адрес".

Таким образом, когда 0.0.0.0 в выводе команды netstat -tan, это указывает на то, что соответствующий адрес или порт является общим для всех сетевых интерфейсов на компьютере.

## Part 9. Установка и использование утилит top, htop
* Установим утилиты top, htop
```
sudo apt install top
sudo apt install htop
```
* Отчет top
```
Uptime: 55 minutes
Количество авторизованных пользователей: 1
Общая загрузка системы: 0.0
Общее количество процессов: 117
Загрузка CPU: 10% пользовательских процессов, 20% системных процессов
Загрузка памяти: 16MB используется из 2GB
PID процесса, занимающего больше всего памяти: 1
PID процесса, занимающего больше всего процессорного времени: 1178

```
* Отчет htop 
* Сортировка по PID
![](screenshots/task_9.png)
* Сортировка по PERCENT_CPU
![](screenshots/task_9_1.png)
* Сортировка по PERCENT_MEM
![](screenshots/task_9_2.png)
* Сортировка по TIME 
![](screenshots/task_9_3.png)
* Сортировка по процессу sshd
![](screenshots/task_9_4.png)
* Сортировка по процессу syslog
![](screenshots/task_9_5.png)
* Добавлены hostname, clock и uptime
![](screenshots/task_9_6.png)
## Part 10. Использование утилиты fdisk
* Запустим команду 
```
fdisk -l
```
```bazaar
Название жесткого диска: vda
Размер: 10GB
Количество секторов: 20971520
Размер swap: 1229
```
![](screenshots/task_10_1.png)
![](screenshots/task_10_2.png)
![](screenshots/task_10_3.png)

## Part 11. Использование утилиты df
* Введем команду 
```
df
```
![](screenshots/task_11.png)
* Для корневого раздела (/)
```
Размер раздела - 7865580
Размер занятого пространства - 4612460 
Размер свободного пространства 2832052
Процент использования 62% 
Единица измерения - 1k-blocks
```
* Введем команду 
```
df -Th
```
![](screenshots/task_11_1.png)
* Для корневого раздела (/)
```
Размер раздела - 7.6GB
Размер занятого пространства - 4.4GB 
Размер свободного пространства 2.8GB
Процент использования 62% 
Тип файловой системы - ext4
```
## Part 12. Использование утилиты du
* Введем команду, таким образом узнаем размер директорий home - 148K , var - 846M var/log - 125M
```
sudo du -sh /home
```
![](screenshots/task_12_1.png)
![](screenshots/task_12_2.png)
* Выведем размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)

![](screenshots/task_12_3.png)
## Part 13. Установка и использование утилиты ncdu
* Выведем размер содержимого /home, /var, /var/log
![](screenshots/task_13_1.png)
* Перезапустим службу SSHd.
![](screenshots/task_13_2.png)
![](screenshots/task_13_3.png)
## Part 14. Работа с системными журналами
* Время последней успешной авторизации, имя пользователя и метод входа в систему.
![](screenshots/task_14_1.png)
![](screenshots/task_14_3.png)
![](screenshots/task_14_2.png)
## Part 15. Использование планировщика заданий CRON
* Добавим задачу в планировщик заданий cron
```
crontab -e
```
* Посмотрим список задач 
![](screenshots/task_15.png)
* Посмотрим в журнале информацию о выполнении
```
 cat /var/log/syslog
```
![](screenshots/task_15_1.png)
* Удалим задачу командой
```
crontab -r
```
![](screenshots/task_15_3.png)